<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8"/>
    <title>Valacore &ndash; Vala Binding Reference</title>
    <link href="devhelpstyle.css" rel="stylesheet" type="text/css"/><script src="scripts.js" type="text/javascript">
    </script>
  </head>
  <body>
    <div class="site_header">Valacore Reference Manual</div>
    <div class="site_body">
      <h1>Getting Started </h1>
      <p>This page provides practical usage patterns for libvalacore.</p>
      <h2>1. File I/O </h2>
      <p><pre class="main_source"><code><span class="main_keyword">using</span> Vala.Io;<br/><br/><span class="main_basic_type">void</span> main () {<br/>    <span class="main_keyword">var</span> path = <span class="main_keyword">new</span> Path (<span class="main_literal">"/tmp/app.conf"</span>);<br/><br/>    Files.writeText (path, <span class="main_literal">"name=demo</span><span class="main_escape">\n</span><span class="main_literal">"</span>);<br/>    <span class="main_basic_type">string</span>? content = Files.readAllText (path);<br/><br/>    <span class="main_keyword">if</span> (content != <span class="main_literal">null</span>) {<br/>        print (<span class="main_literal">"</span><span class="main_escape">%s</span><span class="main_literal">"</span>, content);<br/>    }<br/>}</code></pre>
      </p>
      <h2>2. Collections </h2>
      <p><pre class="main_source"><code><span class="main_keyword">using</span> Vala.Collections;<br/><br/><span class="main_basic_type">void</span> main () {<br/>    <span class="main_keyword">var</span> users = <span class="main_keyword">new</span> ArrayList&lt;<span class="main_basic_type">string</span>&gt; ();<br/>    users.add (<span class="main_literal">"alice"</span>);<br/>    users.add (<span class="main_literal">"bob"</span>);<br/>    users.add (<span class="main_literal">"alice"</span>);<br/><br/>    <span class="main_keyword">var</span> unique = Lists.distinct&lt;<span class="main_basic_type">string</span>&gt; (users);<br/>    <span class="main_keyword">assert</span> (unique.size () == <span class="main_literal">2</span>);<br/>}</code></pre>
      </p>
      <h2>3. Process and Shell </h2>
      <p><pre class="main_source"><code><span class="main_keyword">using</span> Vala.Io;<br/><br/><span class="main_basic_type">void</span> main () {<br/>    ShellResult result = Shell.exec (<span class="main_literal">"echo hello"</span>);<br/>    <span class="main_keyword">if</span> (result.isSuccess ()) {<br/>        print (<span class="main_literal">"</span><span class="main_escape">%s</span><span class="main_literal">"</span>, result.stdout ());<br/>    }<br/>}</code></pre>
      </p>
      <h2>4. Retry and Rate Limit </h2>
      <p><pre class="main_source"><code><span class="main_keyword">using</span> Vala.Net;<br/><span class="main_keyword">using</span> Vala.Time;<br/><br/><span class="main_basic_type">void</span> main () {<br/>    <span class="main_keyword">var</span> limiter = <span class="main_keyword">new</span> RateLimiter (<span class="main_literal">10</span>).withBurst (<span class="main_literal">20</span>);<br/>    <span class="main_keyword">var</span> retry = Retry.networkDefault ()<br/>        .withMaxAttempts (<span class="main_literal">3</span>)<br/>        .withFixedDelay (Duration.ofSeconds (<span class="main_literal">1</span>));<br/><br/>    <span class="main_basic_type">bool</span> ok = retry.retry (() =&gt; {<br/>        <span class="main_keyword">if</span> (!limiter.allow ()) {<br/>            <span class="main_keyword">return</span> <span class="main_literal">false</span>;<br/>        }<br/>        <span class="main_keyword">return</span> <span class="main_literal">true</span>;<br/>    });<br/><br/>    print (<span class="main_literal">"ok=</span><span class="main_escape">%s</span><span class="main_literal"></span><span class="main_escape">\n</span><span class="main_literal">"</span>, ok.to_string ());<br/>}</code></pre>
      </p>
      <h2>5. Atomic File Update </h2>
      <p><pre class="main_source"><code><span class="main_keyword">using</span> Vala.Io;<br/><br/><span class="main_basic_type">void</span> main () {<br/>    <span class="main_keyword">var</span> atomic = <span class="main_keyword">new</span> AtomicFile ()<br/>        .withBackup (<span class="main_literal">true</span>)<br/>        .backupSuffix (<span class="main_literal">".bak"</span>);<br/><br/>    atomic.write (<span class="main_keyword">new</span> Path (<span class="main_literal">"/tmp/settings.ini"</span>), <span class="main_literal">"enabled=true</span><span class="main_escape">\n</span><span class="main_literal">"</span>);<br/>}</code></pre>
      </p>
    </div><br/>
    <div class="site_footer">Generated by <a href="https://wiki.gnome.org/Projects/Valadoc"><kbd>valadoc</kbd></a>
    </div>
  </body>
</html>